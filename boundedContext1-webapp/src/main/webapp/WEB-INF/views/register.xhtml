<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:form="http://www.springframework.org/tags/form"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/WEB-INF/layouts/standard.xhtml">
	
<ui:define name="notes">
	<p>
		Form-based authentication with Spring Security.
		Spring Security is first enabled in web.xml via DelegatingFilterProxy.
		It's configuration is located in <strong>security-config.xml</strong>.
		Flow definitions can further be protected using the secured attribute (see <strong>booking-flow.xml</strong>). 
	</p>
</ui:define>
<ui:define name="content">

<p>
Welcome to the Spring Security GAE sample application, <h:outputText id="email" value="${user.nickname}"/>.
Please enter your registration details in order to use the application.
</p>
<p>
The data you enter here will be registered in the application's GAE data store, keyed under your unique
Google Accounts identifier. It doesn't have to be accurate. When you log in again, the information will be automatically
retrieved.
</p>

<form name="f" action="/register.htm" method="post">
		<fieldset>
			<legend>Login Informationnnn</legend>
				<p>
					User:
					<br />
					<c:if test="${not empty param.login_error}">
						<c:set var="username" value="${sessionScope.SPRING_SECURITY_LAST_USERNAME}"/>
					</c:if>
					<input type="text" name="username" value="#{username}"/>
				</p>
				<p>
					Password:
					<br />
					<input type="password" name="password" />
				</p>
				<p>
					<input type="checkbox" name="_spring_security_remember_me"/> 
					Don't ask for my password for two weeks:
				</p>
				<h:outputText id="user" value="${user}"/>
				<p>
					<input name="submit" type="submit" value="Login" />
				</p>
		</fieldset>
	</form>

<!-- 	<form:form id="register" method="post" modelAttribute="registrationForm">
	  	<fieldset>
	  		<form:label path="forename">
	  		Forename:
	 		</form:label> <form:errors path="forename" cssClass="fieldError" /><br />
	  		<form:input path="forename" /> <br />
	
	  		<form:label path="surname">
	  		Surname:
	 		</form:label><form:errors path="surname" cssClass="fieldError" /> <br />
	  		<form:input path="surname" /><br />
		</fieldset>
		<input type="submit" value="Register">
	</form:form> -->

	
	</ui:define>
	
</ui:composition>


